/* ========================================
   PWA & MOBILE APP OPTIMIZATIONS
   ======================================== */

/* Safe areas for devices with notches */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

/* Full-screen support */
@media (display-mode: fullscreen) {
  .app-container {
    padding-top: env(safe-area-inset-top);
  }
}

/* Standalone mode optimizations */
@media (display-mode: standalone) {
  /* Add native app feel */
  body {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Status bar styling */
  .app-header {
    padding-top: max(env(safe-area-inset-top), 1rem);
    background: linear-gradient(to bottom, rgba(0,0,0,0.9) 0%, transparent 100%);
  }
  
  /* Bottom safe area for iOS */
  .app-footer,
  .bottom-navigation {
    padding-bottom: max(env(safe-area-inset-bottom), 1rem);
  }
}

/* Pull-to-refresh prevention */
html,
body {
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;
}

/* App-like scrolling */
.app-scroll {
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Native-like transitions */
.page-transition {
  transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.page-slide-in {
  transform: translateX(100%);
}

.page-slide-out {
  transform: translateX(-100%);
}

/* iOS-specific optimizations */
@supports (-webkit-touch-callout: none) {
  /* iOS viewport fix */
  .ios-viewport-fix {
    min-height: -webkit-fill-available;
  }
  
  /* iOS bounce scroll fix */
  .ios-scroll-fix {
    position: fixed;
    width: 100%;
    overflow: hidden;
  }
  
  .ios-scroll-content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}